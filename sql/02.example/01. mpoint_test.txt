
select * from mpoint_columns;
select * from taxi;
insert into taxi(carnumber, owner) values('1','000f8d37-d4c09a0f');
insert into taxi(carnumber, owner) values('2','000f157f-dab3a407');
insert into taxi(carnumber, owner) values('3','00a395fe-d60c0b47');

select addmpointcolumn('public','taxi','track',4326,'mpoint',2, 50);


---------------------------------------------------------------track 

UPDATE taxi 
SET    track = append(track, 'MPOINT ((40.712725468949145 -74.00965564891138) 1504367292999, (40.712725468949145 -74.00965564891138) 1504367293999, (40.712725468949145 -74.00965564891138) 1504367294999, (40.712725468949145 -74.00965564891138) 1504367295999, (40.712725468949145 -74.00965564891138) 1504367296999, (40.712725468949145 -74.00965564891138) 1504367297999, (40.712725468949145 -74.00965564891138) 1504367298999, (40.712725468949145 -74.00965564891138) 1504367299999, (40.712725468949145 -74.00965564891138) 1504367300999, (40.712725468949145 -74.00965564891138) 1504367301999, (40.712725468949145 -74.00965564891138) 1504367302999, (40.71275027938253 -74.00965615182557) 1504367303999, (40.71275983475215 -74.0096509550456) 1504367304999, (40.71277257524497 -74.00964324369468) 1504367305999, (40.712781711519426 -74.00963829837181) 1504367306999, (40.712803085372514 -74.00963779545762) 1504367307999, (40.712826848068005 -74.00962815626897) 1504367308999, (40.712857693471676 -74.00960518985428) 1504367309999, (40.712892310731775 -74.0095803794209) 1504367310999, (40.71292797572977 -74.00954668417015) 1504367311999, (40.71298019498653 -74.00951374329068) 1504367312999, (40.713030905500716 -74.00946973829903) 1504367313999, (40.713073401749796 -74.00944065309503) 1504367314999, (40.71310651026732 -74.0094059520159) 1504367315999, (40.71313668511874 -74.00938684127667) 1504367316999, (40.713163046204215 -74.00935725315847) 1504367317999, (40.713197034821576 -74.00933554402926) 1504367318999, (40.71323005952007 -74.00931525982358) 1504367319999, (40.7132742740593 -74.00928743190505) 1504367320999, (40.71331982970304 -74.00926019071974) 1504367321999, (40.71335759017683 -74.00923890068569) 1504367322999, (40.7133969013027 -74.00921341970005) 1504367323999, (40.7134333625815 -74.00918995037117) 1504367324999, (40.71347573310203 -74.00915927260556) 1504367325999, (40.71351102091438 -74.00913655764796) 1504367326999, (40.71353423878617 -74.0091141779665) 1504367327999, (40.71355360098249 -74.00910411968269) 1504367328999, (40.71355263706363 -74.0091054607872) 1504367329999, (40.713533232957786 -74.0091139265094) 1504367330999, (40.71353306531972 -74.00911099284329) 1504367331999)')
WHERE  carnumber = '1';



UPDATE taxi 
SET    track = append(track, 'MPOINT ((40.75988415166806 -73.98802229210175) 1507411374000, (40.75988423548709 -73.98802019662595) 1507411375000, (40.75988423548709 -73.98802019662595) 1507411376000, (40.759891904928494 -73.9880197775308) 1507411377000, (40.759891904928494 -73.9880197775308) 1507411378000, (40.75990254994552 -73.98802782415784) 1507411379000, (40.75990401677858 -73.98802413612044) 1507411380000, (40.75991390742432 -73.98801659240759) 1507411381000, (40.75993796348642 -73.98800309754348) 1507411382000, (40.759962606281746 -73.98798004730976) 1507411383000, (40.75998364485871 -73.98795808672345) 1507411384000, (40.760012101419974 -73.98793419829941) 1507411385000, (40.760042360090424 -73.98790787912345) 1507411386000, (40.76008225794952 -73.98787929683364) 1507411387000, (40.76013011861663 -73.9878487867061) 1507411388000, (40.76017596762698 -73.9878207911495) 1507411389000, (40.76023409612547 -73.98778265349007) 1507411390000, (40.76028753075819 -73.98774619221128) 1507411391000, (40.76033107474517 -73.98771685555018) 1507411392000, (40.760375415012945 -73.98768676451779) 1507411393000, (40.76041585769575 -73.98765843368507) 1507411394000, (40.76045487545501 -73.98762742064334) 1507411395000, (40.76047855433147 -73.98760554387606) 1507411396000, (40.76050093401294 -73.9875840023849) 1507411397000, (40.76049242638122 -73.9875845052991) 1507411398000, (40.76051354877721 -73.98755424662865) 1507411399000, (40.760566522405256 -73.98751451640761) 1507411400000, (40.76060076247971 -73.98749381310678) 1507411401000, (40.760627752207924 -73.98747327744401) 1507411402000, (40.76065847188305 -73.98745173595286) 1507411403000, (40.760669829361845 -73.98744913756288) 1507411404000, (40.76068110302161 -73.98744025274551) 1507411405000, (40.76071249324899 -73.98741628050244) 1507411406000, (40.76074321292411 -73.98739591247774) 1507411407000, (40.760800754689384 -73.98735333240963) 1507411408000, (40.76084949545633 -73.9873202238921) 1507411409000, (40.76089731421392 -73.98728317588008) 1507411410000, (40.76094655789505 -73.98724839098192) 1507411411000, (40.76098867695849 -73.98721863522566) 1507411412000, (40.76102639552276 -73.98719290278292) 1507411413000)')
WHERE  carnumber = '2';


UPDATE taxi 
SET    track = append(track, 'MPOINT ((40.7886280864857 -73.95330260514649) 1507582413000, (40.78863106206133 -73.95326832316252) 1507582414000, (40.78864539511575 -73.95323052077921) 1507582415000, (40.788655160032945 -73.9531934727672) 1507582416000, (40.78867427077218 -73.9531604480687) 1507582417000, (40.7886970695488 -73.95312834537955) 1507582418000, (40.78873080670907 -73.95309884108039) 1507582419000, (40.78875909563227 -73.9530692529622) 1507582420000, (40.78879865821524 -73.95305265679391) 1507582421000, (40.78883340120389 -73.95303430042597) 1507582422000, (40.788870700673 -73.95300622105034) 1507582423000, (40.78890695240422 -73.95298191353115) 1507582424000, (40.78894001901223 -73.95296263515385) 1507582425000, (40.78896554190739 -73.95294595516654) 1507582426000, (40.78899194490238 -73.95292977809342) 1507582427000, (40.789005481676 -73.95292148000928) 1507582428000, (40.78901520468368 -73.9529136010203) 1507582429000, (40.78901813834979 -73.95290999680194) 1507582430000, (40.78902123965396 -73.95290723077389) 1507582431000, (40.7890234608583 -73.95290563821229) 1507582432000, (40.78902446668668 -73.95290471620294) 1507582433000, (40.78902446668668 -73.95290471620294) 1507582434000, (40.789027693719405 -73.95290345891746) 1507582435000, (40.78903393823727 -73.95289759158524) 1507582436000, (40.789048019834595 -73.95288476727339) 1507582437000, (40.789068052583175 -73.95286875783833) 1507582438000, (40.78909412030204 -73.95284872508975) 1507582439000, (40.78913041394277 -73.95282383083733) 1507582440000, (40.789175508581835 -73.95278150222632) 1507582441000, (40.78923334371372 -73.95274126909109) 1507582442000, (40.7893014885865 -73.95269533626171) 1507582443000, (40.78936971727832 -73.95264521248075) 1507582444000, (40.789438448884326 -73.95259299322399) 1507582445000, (40.78950449828132 -73.95254488109978) 1507582446000, (40.78957163732572 -73.95249819389912) 1507582447000, (40.7896373933561 -73.95245301544102) 1507582448000, (40.789701808281976 -73.95240783698293) 1507582449000, (40.78976421155109 -73.95236316143902) 1507582450000, (40.78982380688264 -73.95231882117125) 1507582451000, (40.78989128120317 -73.9522697870377) 1507582452000)')
WHERE  carnumber = '3';













































------------------------------- too slow function
UPDATE taxi 
SET    track = append(track, ARRAY[ ('1510, 1210'), ( '1320, 1220'), ( '1405, 1175'), ('1461, 1037') ]::point[], 
ARRAY[ ( TIMESTAMP '2010-01-26 15:21:40+09'), ( TIMESTAMP '2010-01-26 15:25:40+09'), 
	 ( TIMESTAMP '2010-01-26 15:29:40+09'),  ( TIMESTAMP '2010-01-26 15:36:40+09') ]::timestamp without time zone[]) 
WHERE  carnumber = '3';

UPDATE taxi 
SET    acc = append(acc, 1000.0, TIMESTAMP '2010-01-25 12:05:30+09') 
WHERE  carnumber = '1';


